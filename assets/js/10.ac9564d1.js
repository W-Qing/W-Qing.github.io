(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{316:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("a",{attrs:{href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Pages"),s("OutboundLink")],1),t._v("æ˜¯GitHubæä¾›çš„å¯ç”¨äºæ‰˜ç®¡é™æ€ç½‘ç«™ï¼ˆæ¯”å¦‚åšå®¢ï¼‰æˆ–èµ„æºçš„å…è´¹æœåŠ¡ã€‚å®ƒçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œä½†æ¯æ¬¡ä½ æƒ³è¦æ›´æ–°æŸäº›å†…å®¹æ—¶éƒ½éœ€è¦åšä¸€äº›é‡å¤çš„æ‰‹åŠ¨å·¥ä½œï¼ˆé™¤éä½ ä½¿ç”¨ä»–ä»¬å†…ç½®çš„jekyllå·¥å…·ï¼‰ã€‚ä¸¾ä¸ªğŸŒ°ï¼Œæˆ‘çš„Blogæ˜¯åŸºäºVuepressæ­å»ºçš„é¡¹ç›®ï¼Œå¦‚æœæ¯æ¬¡å†™å®Œæ–‡ç« æˆ‘éƒ½éœ€è¦å…ˆæ‰‹åŠ¨buildä¸€éï¼Œç„¶åå†æŠŠ distæ–‡ä»¶å¤¹pushåˆ°Githubä¸Šï¼Œè¿™ä¸€ç‚¹éƒ½ä¸é…·ï¼ğŸ˜å› æ­¤æˆ‘å†³å®šä½¿ç”¨"),s("a",{attrs:{href:"https://circleci.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Circle CI"),s("OutboundLink")],1),t._v(" æŠŠæˆ‘çš„Blogè‡ªåŠ¨éƒ¨ç½²åˆ°GitHubPagesã€‚")]),t._v(" "),s("h2",{attrs:{id:"å‡†å¤‡å·¥ä½œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡å·¥ä½œ","aria-hidden":"true"}},[t._v("#")]),t._v(" å‡†å¤‡å·¥ä½œ")]),t._v(" "),s("h3",{attrs:{id:"_1-æ³¨å†Œ-circleci"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ³¨å†Œ-circleci","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. æ³¨å†Œ CircleCI")]),t._v(" "),s("p",[t._v("è¿™ä¸€æ­¥ååˆ†ç®€å•ï¼Œç›´æ¥è¿›å…¥ "),s("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fcircleci.com%2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("CircleCI"),s("OutboundLink")],1),t._v(" å®˜ç½‘åˆ©ç”¨Githubè´¦å·ç™»å½•ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_2-ä»“åº“æˆæƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä»“åº“æˆæƒ","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. ä»“åº“æˆæƒ")]),t._v(" "),s("p",[t._v("åœ¨é¡¹ç›®åˆ—è¡¨ä¸­åœ¨è¦éƒ¨ç½²çš„é¡¹ç›®ä¸Šç‚¹å‡»Setup projectsæŒ‰é’®ï¼Œç„¶åé€‰æ‹©Linux ç³»ç»Ÿå’Œ 2.0ç‰ˆæœ¬å¹³å°ï¼Œæ¥ä¸‹æ¥å°±æ˜¯é…ç½®"),s("code",[t._v("config.yml")]),t._v("æ–‡ä»¶ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_3-åˆ›å»ºconfig-yml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ›å»ºconfig-yml","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. åˆ›å»ºconfig.yml")]),t._v(" "),s("p",[t._v("åœ¨é¡¹ç›®æ ¹ç›®å½•æˆ–.circleciç›®å½•ä¸­ä¸ºCircleCIåˆ›å»ºåä¸ºconfig.ymlçš„é…ç½®æ–‡ä»¶ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æˆæƒcircle-ciè®¿é—®ä»“åº“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æˆæƒcircle-ciè®¿é—®ä»“åº“","aria-hidden":"true"}},[t._v("#")]),t._v(" æˆæƒCircle CIè®¿é—®ä»“åº“")]),t._v(" "),s("p",[t._v("å½“ä½ åœ¨ç‚¹å‡»Setup projectsåï¼ŒCircleCi å°†ä¼šä¸ºä½ çš„é¡¹ç›®åœ¨åŸºäºç½‘ç»œçš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šï¼ˆä¾‹å¦‚GitHubå’ŒBitbucketï¼‰åˆ›å»ºéƒ¨ç½²å¯†é’¥ã€‚éƒ¨ç½²å¯†é’¥æ˜¯ä»“åº“ä¸“å±çš„å¯†é’¥ã€‚å¦‚æœä½ ä½¿ç”¨GitHubä½œä¸ºä½ çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè€Œä¸”GitHubæ‹¥æœ‰å…¬é’¥ï¼ŒCircleCi å°†ä¼šå‚¨å­˜ç§æœ‰ç§˜é’¥ã€‚éƒ¨ç½²å¯†é’¥ç»™äºˆCircleCi è®¿é—®å•ä¸ªä»“åº“çš„æƒé™ã€‚ä¸ºäº†ä¿æŠ¤CircleCiä¸èƒ½æ¨é€å†…å®¹åˆ°ä½ çš„ä»“åº“ï¼Œéƒ¨ç½²å¯†é’¥æ˜¯åªè¯»çš„ã€‚")]),t._v(" "),s("p",[t._v("ä½†æ˜¯æ—¢ç„¶è¦ä½¿Circle CIå®ç°è‡ªåŠ¨éƒ¨ç½²ï¼Œè‚¯å®šéœ€è¦åœ¨æ„å»ºåpushå†…å®¹åˆ°é¡¹ç›®çš„ä»“åº“ã€‚é‚£ä¹ˆå°±è¦åˆ›å»ºä¸€ä¸ªæœ‰è¯»å†™æƒé™çš„å¯†é’¥ï¼Œå³ç”¨æˆ·å¯†é’¥ã€‚ "),s("a",{attrs:{href:"https://circleci.com/docs/2.0/gh-bb-integration/#creating-a-github-user-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ›å»ºç”¨æˆ·å¯†é’¥"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("ç„¶åå°†ç”¨æˆ·å¯†é’¥çš„"),s("code",[t._v("fingerprints")]),t._v("æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ config.ymlä¸­")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("version: 2\njobs:\n  deploy-job:\n    steps:\n      - add_ssh_keys:\n          fingerprints:\n            - "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SO:ME:FIN:G:ER:PR:IN:T"')]),t._v("\n")])])]),s("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œéƒ¨ç½²è„šæœ¬è¿˜éœ€è¦äº†è§£ä½ çš„ç”¨æˆ·å¯†é’¥å…³è”çš„ç”¨æˆ·åå’Œç”µå­é‚®ä»¶ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥å®šä¹‰åœ¨config.ymlä¸­ï¼Œä½†æœ€å¥½å­˜å‚¨åœ¨Circle Ci çš„é¡¹ç›®ç¯å¢ƒå˜é‡ä¸­ã€‚è¿™æ ·ä½ å¯ä»¥åœ¨éƒ¨ç½²è„šæœ¬ä¸­ä½¿ç”¨ä»¥ä¸‹å†…å®¹ï¼š")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_EMAIL")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_NAME")]),t._v("\n")])])]),s("h2",{attrs:{id:"ç¼–è¾‘éƒ¨ç½²è„šæœ¬"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–è¾‘éƒ¨ç½²è„šæœ¬","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¼–è¾‘éƒ¨ç½²è„šæœ¬")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("version: 2\njobs:\n  build:\n    branches:\n      ignore:\n        - master\n    docker:\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# specify the version you desire here")]),t._v("\n      - image: circleci/node:latest\n\n    working_directory: ~/repo\n    environment:\n      - SOURCE_BRANCH: src\n      - TARGET_BRANCH: master\n    steps:\n      - add_ssh_keys:\n          fingerprints:\n            - "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xx:xx:xx:xx:xx"')]),t._v("\n      - checkout\n\n      - restore_cache:\n          keys:\n          - v1-dependencies-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" checksum "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package.json"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fallback to using the latest cache if no exact match is found")]),t._v("\n          - v1-dependencies-\n\n      - run:\n          name: Install dependencies \n          command: "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n      - save_cache:\n          paths:\n            - node_modules\n          key: v1-dependencies-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" checksum "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package.json"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      - deploy:\n          name: Deploy\n          command: "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CIRCLE_BRANCH")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SOURCE_BRANCH")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_EMAIL")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_NAME")]),t._v("\n\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CIRCLE_REPOSITORY_URL")]),t._v(" out\n\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" out\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TARGET_BRANCH")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout --orphan "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TARGET_BRANCH")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# write my custom domain name into the CNAME file")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sunburst.wang"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dist/CNAME\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -a dist/. out/.\n\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p out/.circleci "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -a .circleci/. out/.circleci/.\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" out\n\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Automated deployment to GitHub Pages: '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CIRCLE_SHA1}")]),t._v('"')]),t._v(" --allow-empty\n\n              "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TARGET_BRANCH")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])])]),s("p",[t._v("Happy building! ğŸ»")]),t._v(" "),s("p",[t._v("BTWï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¿™ä»½é…ç½®æ–‡ä»¶æœ‰æ„é—æ¼äº†ä¸¤ä¸ªå¯èƒ½çš„é™„åŠ å†…å®¹ï¼šğŸ¤ª")]),t._v(" "),s("ol",[s("li",[t._v("å°†éƒ¨ç½²è„šæœ¬æ”¾å…¥å•ç‹¬çš„deploy.shè„šæœ¬ä¸­")]),t._v(" "),s("li",[t._v("ä½¿ç”¨Circle CIå·¥ä½œæµå¯ä»¥æ›´æ¸…æ™°åœ°åœ¨ä¸»åˆ†æ”¯ä¸Šè¿è¡Œè„šæœ¬ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"å‚è€ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒ")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.frederikring.com/articles/deploying-github-pages-circle-ci/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.frederikring.com/articles/deploying-github-pages-circle-ci/"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://circleci.com/docs/2.0/language-javascript/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://circleci.com/docs/2.0/language-javascript/"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://circleci.com/docs/2.0/gh-bb-integration/#creating-a-github-user-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://circleci.com/docs/2.0/gh-bb-integration/#creating-a-github-user-key"),s("OutboundLink")],1)])])])},[],!1,null,null,null);a.default=n.exports}}]);