(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{352:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[n("a",{attrs:{href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Pages"),n("OutboundLink")],1),t._v("æ˜¯GitHubæä¾›çš„å¯ç”¨äºŽæ‰˜ç®¡é™æ€ç½‘ç«™ï¼ˆæ¯”å¦‚åšå®¢ï¼‰æˆ–èµ„æºçš„å…è´¹æœåŠ¡ã€‚å®ƒçš„ä½¿ç”¨éžå¸¸ç®€å•ï¼Œä½†æ¯æ¬¡ä½ æƒ³è¦æ›´æ–°æŸäº›å†…å®¹æ—¶éƒ½éœ€è¦åšä¸€äº›é‡å¤çš„æ‰‹åŠ¨å·¥ä½œï¼ˆé™¤éžä½ ä½¿ç”¨ä»–ä»¬å†…ç½®çš„jekyllå·¥å…·ï¼‰ã€‚ä¸¾ä¸ªðŸŒ°ï¼Œæˆ‘çš„Blogæ˜¯åŸºäºŽVuepressæ­å»ºçš„é¡¹ç›®ï¼Œå¦‚æžœæ¯æ¬¡å†™å®Œæ–‡ç« æˆ‘éƒ½éœ€è¦å…ˆæ‰‹åŠ¨buildä¸€éï¼Œç„¶åŽå†æŠŠ distæ–‡ä»¶å¤¹pushåˆ°Githubä¸Šï¼Œè¿™ä¸€ç‚¹éƒ½ä¸é…·ï¼ðŸ˜Žå› æ­¤æˆ‘å†³å®šä½¿ç”¨"),n("a",{attrs:{href:"https://circleci.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Circle CI"),n("OutboundLink")],1),t._v(" æŠŠæˆ‘çš„Blogè‡ªåŠ¨éƒ¨ç½²åˆ°GitHubPagesã€‚")]),t._v(" "),n("h2",{attrs:{id:"å‡†å¤‡å·¥ä½œ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‡†å¤‡å·¥ä½œ","aria-hidden":"true"}},[t._v("#")]),t._v(" å‡†å¤‡å·¥ä½œ")]),t._v(" "),n("h3",{attrs:{id:"_1-æ³¨å†Œ-circleci"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ³¨å†Œ-circleci","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. æ³¨å†Œ CircleCI")]),t._v(" "),n("p",[t._v("è¿™ä¸€æ­¥ååˆ†ç®€å•ï¼Œç›´æŽ¥è¿›å…¥ "),n("a",{attrs:{href:"https://link.juejin.im/?target=https%3A%2F%2Fcircleci.com%2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("CircleCI"),n("OutboundLink")],1),t._v(" å®˜ç½‘åˆ©ç”¨Githubè´¦å·ç™»å½•ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_2-ä»“åº“æŽˆæƒ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä»“åº“æŽˆæƒ","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. ä»“åº“æŽˆæƒ")]),t._v(" "),n("p",[t._v("åœ¨é¡¹ç›®åˆ—è¡¨ä¸­åœ¨è¦éƒ¨ç½²çš„é¡¹ç›®ä¸Šç‚¹å‡»Setup projectsæŒ‰é’®ï¼Œç„¶åŽé€‰æ‹©Linux ç³»ç»Ÿå’Œ 2.0ç‰ˆæœ¬å¹³å°ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯é…ç½®"),n("code",[t._v("config.yml")]),t._v("æ–‡ä»¶ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_3-åˆ›å»ºconfig-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ›å»ºconfig-yml","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. åˆ›å»ºconfig.yml")]),t._v(" "),n("p",[t._v("åœ¨é¡¹ç›®æ ¹ç›®å½•æˆ–.circleciç›®å½•ä¸­ä¸ºCircleCIåˆ›å»ºåä¸ºconfig.ymlçš„é…ç½®æ–‡ä»¶ã€‚")]),t._v(" "),n("h2",{attrs:{id:"æŽˆæƒcircle-ciè®¿é—®ä»“åº“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æŽˆæƒcircle-ciè®¿é—®ä»“åº“","aria-hidden":"true"}},[t._v("#")]),t._v(" æŽˆæƒCircle CIè®¿é—®ä»“åº“")]),t._v(" "),n("p",[t._v("å½“ä½ åœ¨ç‚¹å‡»Setup projectsåŽï¼ŒCircleCi å°†ä¼šä¸ºä½ çš„é¡¹ç›®åœ¨åŸºäºŽç½‘ç»œçš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šï¼ˆä¾‹å¦‚GitHubå’ŒBitbucketï¼‰åˆ›å»ºéƒ¨ç½²å¯†é’¥ã€‚éƒ¨ç½²å¯†é’¥æ˜¯ä»“åº“ä¸“å±žçš„å¯†é’¥ã€‚å¦‚æžœä½ ä½¿ç”¨GitHubä½œä¸ºä½ çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè€Œä¸”GitHubæ‹¥æœ‰å…¬é’¥ï¼ŒCircleCi å°†ä¼šå‚¨å­˜ç§æœ‰ç§˜é’¥ã€‚éƒ¨ç½²å¯†é’¥ç»™äºˆCircleCi è®¿é—®å•ä¸ªä»“åº“çš„æƒé™ã€‚ä¸ºäº†ä¿æŠ¤CircleCiä¸èƒ½æŽ¨é€å†…å®¹åˆ°ä½ çš„ä»“åº“ï¼Œéƒ¨ç½²å¯†é’¥æ˜¯åªè¯»çš„ã€‚")]),t._v(" "),n("p",[t._v("ä½†æ˜¯æ—¢ç„¶è¦ä½¿Circle CIå®žçŽ°è‡ªåŠ¨éƒ¨ç½²ï¼Œè‚¯å®šéœ€è¦åœ¨æž„å»ºåŽpushå†…å®¹åˆ°é¡¹ç›®çš„ä»“åº“ã€‚é‚£ä¹ˆå°±è¦åˆ›å»ºä¸€ä¸ªæœ‰è¯»å†™æƒé™çš„å¯†é’¥ï¼Œå³ç”¨æˆ·å¯†é’¥ã€‚ "),n("a",{attrs:{href:"https://circleci.com/docs/2.0/gh-bb-integration/#creating-a-github-user-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("åˆ›å»ºç”¨æˆ·å¯†é’¥"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("ç„¶åŽå°†ç”¨æˆ·å¯†é’¥çš„"),n("code",[t._v("fingerprints")]),t._v("æ·»åŠ åˆ°é…ç½®æ–‡ä»¶ config.ymlä¸­")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("version: 2\njobs:\n  deploy-job:\n    steps:\n      - add_ssh_keys:\n          fingerprints:\n            - "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SO:ME:FIN:G:ER:PR:IN:T"')]),t._v("\n")])])]),n("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œéƒ¨ç½²è„šæœ¬è¿˜éœ€è¦äº†è§£ä½ çš„ç”¨æˆ·å¯†é’¥å…³è”çš„ç”¨æˆ·åå’Œç”µå­é‚®ä»¶ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥å®šä¹‰åœ¨config.ymlä¸­ï¼Œä½†æœ€å¥½å­˜å‚¨åœ¨Circle Ci çš„é¡¹ç›®çŽ¯å¢ƒå˜é‡ä¸­ã€‚è¿™æ ·ä½ å¯ä»¥åœ¨éƒ¨ç½²è„šæœ¬ä¸­ä½¿ç”¨ä»¥ä¸‹å†…å®¹ï¼š")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_EMAIL")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_NAME")]),t._v("\n")])])]),n("h2",{attrs:{id:"ç¼–è¾‘éƒ¨ç½²è„šæœ¬"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–è¾‘éƒ¨ç½²è„šæœ¬","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¼–è¾‘éƒ¨ç½²è„šæœ¬")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("version: 2\njobs:\n  build:\n    branches:\n      ignore:\n        - master\n    docker:\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# specify the version you desire here")]),t._v("\n      - image: circleci/node:latest\n\n    working_directory: ~/repo\n    environment:\n      - SOURCE_BRANCH: src\n      - TARGET_BRANCH: master\n    steps:\n      - add_ssh_keys:\n          fingerprints:\n            - "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xx:xx:xx:xx:xx"')]),t._v("\n      - checkout\n\n      - restore_cache:\n          keys:\n          - v1-dependencies-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" checksum "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package.json"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fallback to using the latest cache if no exact match is found")]),t._v("\n          - v1-dependencies-\n\n      - run:\n          name: Install dependencies \n          command: yarn "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n      - save_cache:\n          paths:\n            - node_modules\n          key: v1-dependencies-"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" checksum "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package.json"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n      - deploy:\n          name: Deploy\n          command: "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CIRCLE_BRANCH")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SOURCE_BRANCH")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.email "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_EMAIL")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global user.name "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$GH_NAME")]),t._v("\n\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CIRCLE_REPOSITORY_URL")]),t._v(" out\n\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" out\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TARGET_BRANCH")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout --orphan "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TARGET_BRANCH")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v(".")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("\n\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# write my custom domain name into the CNAME file")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sunburst.wang"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dist/CNAME\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -a dist/. out/.\n\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p out/.circleci "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" -a .circleci/. out/.circleci/.\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),t._v(" out\n\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" add -A\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Automated deployment to GitHub Pages: '),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CIRCLE_SHA1}")]),t._v('"')]),t._v(" --allow-empty\n\n              "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$TARGET_BRANCH")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])])])])},[],!1,null,null,null);s.default=e.exports}}]);