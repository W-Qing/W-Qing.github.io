<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6学习笔记 | ☀️W-Qing</title>
    <meta name="description" content="ECMAScript 6 是JS语言的下一代标准。Mizilla将在这个标准的基础上，退出JavaScript 2.0版。">
    <link rel="shortcut icon" href="/img/favicon-32.ico">
    
    <link rel="preload" href="/assets/css/1.styles.73dc545e.css" as="style"><link rel="preload" href="/assets/js/vendor.2.73dc545e.js" as="script"><link rel="preload" href="/assets/js/vendor.1.d0cf3ae5.js" as="script"><link rel="preload" href="/assets/css/0.styles.6b1a4519.css" as="style"><link rel="preload" href="/assets/js/vendor.0.6b1a4519.js" as="script"><link rel="preload" href="/assets/js/app.a3a7201e.js" as="script"><link rel="preload" href="/assets/js/11.89dc6fd2.js" as="script"><link rel="prefetch" href="/assets/css/4.styles.2f04305e.css"><link rel="prefetch" href="/assets/css/5.styles.89162a5d.css"><link rel="prefetch" href="/assets/css/6.styles.99a56a85.css"><link rel="prefetch" href="/assets/css/7.styles.53d3c094.css"><link rel="prefetch" href="/assets/js/10.94f9d911.js"><link rel="prefetch" href="/assets/js/12.745af652.js"><link rel="prefetch" href="/assets/js/13.fb089dc8.js"><link rel="prefetch" href="/assets/js/14.b1eb9950.js"><link rel="prefetch" href="/assets/js/15.9a760e67.js"><link rel="prefetch" href="/assets/js/16.702d2711.js"><link rel="prefetch" href="/assets/js/17.df432ca3.js"><link rel="prefetch" href="/assets/js/18.7207b478.js"><link rel="prefetch" href="/assets/js/19.17d471fa.js"><link rel="prefetch" href="/assets/js/20.2b0e3dd4.js"><link rel="prefetch" href="/assets/js/21.b79b79b0.js"><link rel="prefetch" href="/assets/js/22.817c26f4.js"><link rel="prefetch" href="/assets/js/23.7d386268.js"><link rel="prefetch" href="/assets/js/24.a2f9460e.js"><link rel="prefetch" href="/assets/js/25.8126dfda.js"><link rel="prefetch" href="/assets/js/26.1fe3ff9d.js"><link rel="prefetch" href="/assets/js/27.96316340.js"><link rel="prefetch" href="/assets/js/28.a94a0505.js"><link rel="prefetch" href="/assets/js/29.acadbc4f.js"><link rel="prefetch" href="/assets/js/4.2f04305e.js"><link rel="prefetch" href="/assets/js/5.89162a5d.js"><link rel="prefetch" href="/assets/js/6.99a56a85.js"><link rel="prefetch" href="/assets/js/7.53d3c094.js"><link rel="prefetch" href="/assets/js/8.cec7f5a5.js"><link rel="prefetch" href="/assets/js/9.3033b784.js">
    <link rel="stylesheet" href="/assets/css/1.styles.73dc545e.css"><link rel="stylesheet" href="/assets/css/0.styles.6b1a4519.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" style="background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:scroll;background-image:url(https://cdn.ruguoapp.com/Fg35oNf5WanPiQ8pYb9Hrgs4uI1d.jpeg);" data-v-0539f1bd><div data-v-39c72c19 data-v-0539f1bd><nav class="navbar" data-v-39c72c19><div class="container" data-v-39c72c19><a href="/" class="router-link-active" data-v-39c72c19><span class="navbar-site-name" data-v-39c72c19>
          ☀️W-Qing
        </span></a> <div class="navbar-toggler" data-v-39c72c19><svg class="icon" style="font-size:1.2em;" data-v-39c72c19 data-v-39c72c19><title data-v-39c72c19 data-v-39c72c19>menu</title><use xlink:href="#icon-menu" data-v-39c72c19 data-v-39c72c19></use></svg></div> <div class="navbar-links" data-v-39c72c19><a href="/" class="navbar-link" data-v-39c72c19>
            Home
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-39c72c19>
            Posts
          </a><a href="/life" class="navbar-link" data-v-39c72c19>
            Life
          </a><a href="/about/" class="navbar-link" data-v-39c72c19>
            About
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-39c72c19></div></div> <div class="banner" data-v-98d6aa8c data-v-0539f1bd data-v-0539f1bd><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-0539f1bd>
          ES6学习笔记
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-6cd81e6a data-v-6cd81e6a><main class="main" data-v-6cd81e6a><div class="post" data-v-6cd81e6a data-v-6cd81e6a><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2018-04-03
    </span> <span class="update-date" data-v-4e23451f>
      最后修改 : 2019-03-06
    </span></section> <section class="post-links" data-v-4e23451f><a href="/posts/2018/03/11/ajax-basic-study-notes.html" class="post-link" data-v-4e23451f>
      上一篇 : 原生Ajax学习笔记
    </a> <a href="/posts/2018/05/15/understanding-node-js.html" class="post-link" data-v-4e23451f>
      下一篇 : 初识Node.js
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><h2 id="_1-let、const"><a href="#_1-let、const" aria-hidden="true" class="header-anchor">#</a> 1. let、const</h2> <p><code>var</code> 可以重复声明，无法限制修改，没有块级作用域</p> <p><code>let</code> 不能重复声明，变量（可以重新赋值），块级作用域</p> <p><code>const</code> 不能重复声明，常量（不能重新赋值），块级作用域</p> <p><strong>let：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//要实现每隔0.5秒输出0，1，2</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//没有块级作用域</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//错误写法：运行结果为 3 3 3</span>
<span class="token comment">//es5中利用IIFE：</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>   <span class="token comment">//运行结果 0 1 2</span>
<span class="token comment">//es6中使用let：</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token comment">//运行结果 0 1 2</span>
</code></pre></div><p><strong>const：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> name<span class="token punctuation">;</span> name <span class="token operator">=</span> <span class="token string">&quot;wang&quot;</span><span class="token punctuation">;</span>
<span class="token comment">//Uncaught SyntaxError: Missing initializer in const declaration</span>
<span class="token comment">//const一旦声明就必须初始化，不能留到后面赋值,不然会报错。</span>

<span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">//TypeErrorL &quot;PI&quot; is read-only</span>
<span class="token comment">//const声明的变量不能重复声明且不能重新赋值。</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{a: 1}</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//{a:a,b:b}</span>
<span class="token comment">//对于复合型数据类型，常量名不指向数据，而是指向数据所在的地址。</span>
<span class="token comment">//const关键字只是保证常量名指向的地址不变，并不保证该地址的数据不变，所以将一个对象声明为常量必须注意该点。</span>
</code></pre></div><h2 id="_2-解构赋值"><a href="#_2-解构赋值" aria-hidden="true" class="header-anchor">#</a> 2. 解构赋值</h2> <p><strong>1. 左右两边结构必须相同（数组或JSON）</strong></p> <p><strong>2. 声明和初始化（赋值）不能分开（必须在一行内同时完成）</strong></p> <p><strong>数组的解构赋值：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//es5中将数组中的元素赋值给变量：</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//运行结果 1 2 3</span>
<span class="token comment">//es6中利用数组的解构赋值：</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//只要等号两边的模式相同，左边的变量就会被赋予对应的值</span>
<span class="token comment">//运行结果 1 2 3</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//[1,2] 3</span>
<span class="token comment">//如果等号左边的模式只匹配等号右边数组的一部分，解构依然可以成功，这种情况叫做不完全解构。</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//0 undefined</span>
<span class="token comment">//如果解构不匹配，变量的值就等于undefined（只声明未赋值）</span>
<span class="token comment">//但可以给其设置默认值。</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//0 1</span>
</code></pre></div><p><strong>JSON对象的解构赋值：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">////数组的元素是按次序排序的，变量的取值由它的位置决定，而对象的属性没有次序，变量必须与对象属性名相同，才能取到正确的值。</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mintnoii&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//mintnoii,21</span>
<span class="token comment">//注意对象解构赋值的规则：</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">&quot;mintnoii&quot;</span><span class="token punctuation">,</span>
    data<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">,</span>
        <span class="token string">&quot;job&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;teacher&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>data<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>age<span class="token punctuation">,</span>job<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//mintnoii 21</span>
</code></pre></div><p>也可以根据需求进行不同粒度的拆分：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>json1<span class="token punctuation">,</span>arr1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;mintnoii&quot;</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;job&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;teacher&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;grade&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>json1<span class="token punctuation">,</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//mintnoii 21 {job: &quot;teacher&quot;, grade: &quot;A&quot;} [97, 3, 8]</span>
</code></pre></div><h2 id="_3-函数"><a href="#_3-函数" aria-hidden="true" class="header-anchor">#</a> 3. 函数</h2> <p><strong>1. 箭头函数</strong></p> <ol><li>如果只有一个参数<code>parameter</code>，圆括号<code>()</code>可以省略</li> <li>如果只有一个返回值<code>return</code>，花括号<code>{}</code>可以省略</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//ES5中的函数</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//完整写法</span>
<span class="token keyword">let</span> <span class="token function-variable function">Add</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token comment">//箭头函数</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//简洁写法</span>
<span class="token keyword">let</span> <span class="token function-variable function">Add</span> <span class="token operator">=</span><span class="token parameter">a</span><span class="token operator">=&gt;</span>a<span class="token operator">+</span><span class="token number">10</span><span class="token punctuation">;</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
Demo数组排序<span class="token punctuation">:</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//从小到大排序</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span>n2</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>n1<span class="token operator">-</span>n2<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//运行结果 [3,7,14,24]</span>
</code></pre></div><p><strong>2. 函数参数</strong></p> <ul><li>默认参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token number">5</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//未传入的参数会使用默认值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">show</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//运行结果 5，10，5</span>
<span class="token function">show</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//运行结果 1，2，3</span>
</code></pre></div><ul><li>收集剩余的参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//Rest Parameter必须是最后一个形参</span>
 	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token function">show</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 运行结果 [3,4,5]</span>
</code></pre></div><ul><li>展开数组内容</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//运行结果 1，2，3</span>

<span class="token comment">//注意...arr 等价于 1,2,3  而不是[1，2，3]</span>
</code></pre></div><h2 id="_4-数组"><a href="#_4-数组" aria-hidden="true" class="header-anchor">#</a> 4. 数组</h2> <p><strong>map（映射）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>一个对应一个：
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>item<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//运行结果 [4,6,10]</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">let</span> score <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> score<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>item<span class="token operator">&gt;=</span><span class="token number">60</span><span class="token operator">?</span><span class="token string">'及格'</span><span class="token punctuation">:</span><span class="token string">'不及格'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//运行结果 [&quot;不及格&quot;, &quot;及格&quot;, &quot;及格&quot;]</span>
</code></pre></div><p><strong>reduce（汇总）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>一堆对应一个：
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">,</span><span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tem<span class="token punctuation">,</span>item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//tem中间临时结果、item当前数值、index次数下标</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">==</span> arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//最后一次</span>
    	<span class="token keyword">return</span> <span class="token punctuation">(</span>tem<span class="token operator">+</span>item<span class="token punctuation">)</span><span class="token operator">/</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment">//返回平均值</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span><span class="token comment">//不是最后一次</span>
        <span class="token keyword">return</span> tem<span class="token operator">+</span>item<span class="token punctuation">;</span> <span class="token comment">//返回相加的总数</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//运行结果 45</span>
</code></pre></div><p><strong>filter（过滤器）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>保留一部分，过滤出一部分：
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>item<span class="token operator">%</span><span class="token number">3</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//过滤出能被3整除的元素并返回</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//不能被3整除的元素保留下来</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
更简单的写法：
<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>item<span class="token operator">%</span><span class="token number">3</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//运行结果 15，24</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
对象的过滤：
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;前端&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;ES6&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;后端&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;calss&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;PHP&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;前端&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;Vue&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token operator">=&gt;</span>json<span class="token punctuation">.</span>title<span class="token operator">==</span><span class="token string">&quot;前端&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//运行结果 [{&quot;title&quot;:&quot;前端&quot;,&quot;class&quot;:&quot;ES6&quot;},{&quot;title&quot;:&quot;前端&quot;,&quot;class&quot;:&quot;Vue&quot;}]</span>
</code></pre></div><p><strong>forEach（迭代）</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>循环列举出集合中所有的元素，并一一取出：
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token string">':'</span><span class="token operator">+</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//运行结果 0:1 1:22:4</span>
</code></pre></div><h2 id="_5-字符串"><a href="#_5-字符串" aria-hidden="true" class="header-anchor">#</a> 5. 字符串</h2> <p><strong>1. startsWith和endsWith</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'http://sunburst.wang'</span><span class="token punctuation">;</span>
<span class="token comment">//字符串是以http开头，返回true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'show.png'</span><span class="token punctuation">;</span>
<span class="token comment">//字符串不是以.png结尾，返回false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>2. 字符串模板</strong></p> <p>反单引号 <strong>``</strong> 内包裹的字符串可以折行</p> <p>美元符号与大括号 <strong>${variate}</strong> 可以输出变量</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES5中的字符串拼接：</span>
<span class="token keyword">var</span> title <span class="token operator">=</span> <span class="token string">'标题'</span>
<span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token string">'内容'</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'&lt;div&gt;\
	&lt;h1&gt;'</span><span class="token operator">+</span>title<span class="token operator">+</span><span class="token string">'&lt;/h1&gt;\
	&lt;p&gt;'</span><span class="token operator">+</span>content<span class="token operator">+</span><span class="token string">'&lt;/p&gt;\
&lt;/div&gt;'</span><span class="token punctuation">;</span>
<span class="token comment">// ES6中的字符串拼接：</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token string">`&lt;div&gt;
	&lt;h1&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/h1&gt;
	&lt;p&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_6-json"><a href="#_6-json" aria-hidden="true" class="header-anchor">#</a> 6. JSON</h2> <p><strong>1.两个新方法</strong></p> <ul><li><p><strong>JSON.stringify()</strong> 字符串化（串行化）</p> <p>将json对象转化成字符串</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mintnoii&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span><span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//运行结果为String  {&quot;name&quot;:&quot;mintnoii&quot;,&quot;age&quot;:21}</span>
</code></pre></div><ul><li><p><strong>JSON.parse()</strong> 字符串解析</p> <p>将字符串解析为json对象（<strong>注意要使用json的标准写法</strong> ）</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'{&quot;name&quot;:&quot;walker&quot;,&quot;age&quot;:20}'</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//运行结果为Object {&quot;name&quot;:&quot;walker&quot;,&quot;age&quot;:20}</span>
</code></pre></div><ul><li>应用：深度克隆新对象</li></ul> <p>直接复制对象会造成-对象引用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
	name <span class="token punctuation">:</span> <span class="token string">'hello'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">//</span>
b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token punctuation">;</span>
<span class="token comment">//b 对属性的修改会影响到 a</span>
<span class="token function">alert</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//hi</span>
</code></pre></div><p>使用for in进行-浅拷贝</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
	name <span class="token punctuation">:</span> <span class="token string">'hello'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> attr <span class="token keyword">in</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>
	b<span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//但如果a[attr]的值为一个对象而不是字符串，则还会造成对象引用的问题</span>
<span class="token comment">//除非使用递归进行深拷贝</span>
b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'hi'</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello</span>
</code></pre></div><p>使用JSON进行-深拷贝（IE6、7不兼容）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
	name <span class="token punctuation">:</span> <span class="token punctuation">{</span> age <span class="token punctuation">:</span> <span class="token number">100</span> <span class="token punctuation">}</span> <span class="token comment">//属性值也是一个对象</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将a对象转化成字符串</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//再将字符串解析为对象</span>
<span class="token comment">//此时b 已经与 a之间已经没有关系了</span>
b<span class="token punctuation">.</span>name<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token comment">//b的name再进行修改不会影响到a</span>
<span class="token function">alert</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span>name<span class="token punctuation">.</span>age <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//100</span>
</code></pre></div><p><strong>2. key与方法的简写</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span>a<span class="token punctuation">,</span>b<span class="token punctuation">:</span>b<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//key的简写  </span>
<span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span>b<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//运行结果都是{a:5,b:10}</span>

<span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;mintnoii&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">show</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//方法的简写（ES6中面向对象的方法简写也是一样 ）</span>
<span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span><span class="token string">'mintnoii'</span><span class="token punctuation">,</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//不用再写 :function</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
json<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//运行结果都是 mintnoii</span>
</code></pre></div><h2 id="_7-面向对象"><a href="#_7-面向对象" aria-hidden="true" class="header-anchor">#</a> 7. 面向对象</h2> <p><strong>1. 类的定义</strong></p> <p>ES5中类的定义（类同时也是构造函数）：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>grade</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//通过this添加属性</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>grade<span class="token operator">=</span>grade<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//通过原型prototype将方法添加在类的外部</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> stu1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'Walker'</span><span class="token punctuation">,</span> <span class="token string">'92'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stu1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//运行结果 walker 92</span>
</code></pre></div><p>ES6中类的定义：</p> <ul><li><p><strong>class</strong>关键字声明类</p></li> <li><p>类与构造器分开</p></li> <li><p>方法可直接在类内部定义</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{</span> <span class="token comment">//关键字class</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> pass</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//构造器</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pass<span class="token operator">=</span>pass<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token comment">//直接定义方法,注意不用写function</span>
	<span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>  <span class="token comment">//注意 方法之间也不用逗号或分号隔开</span>
    <span class="token function">anotherFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><strong>2. 类的继承</strong></p> <p>ES5中的继承（继承上面的学生类）：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">CollegeStu</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>grade<span class="token punctuation">,</span>academy</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">Student</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>grade<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//继承的属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>academy <span class="token operator">=</span> academy<span class="token punctuation">;</span> <span class="token comment">//自身新增的属性</span>
<span class="token punctuation">}</span>

<span class="token class-name">CollegeStu</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//通过原型继承方法</span>
<span class="token class-name">CollegeStu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token punctuation">;</span><span class="token comment">//修正构造器</span>
<span class="token class-name">CollegeStu</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">showAcademy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>academy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//原型上添加自身新增的方法</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> stu2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CollegeStu</span><span class="token punctuation">(</span><span class="token string">'mintnoii'</span><span class="token punctuation">,</span><span class="token string">'96'</span><span class="token punctuation">,</span><span class="token string">'外国语学院'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stu2<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> stu2<span class="token punctuation">.</span><span class="token function">showAcademy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//运行结果 mintnoii 外国语学院</span>
</code></pre></div><p>ES6中类的继承：</p> <ul><li><strong>extends</strong> 关键字定义类的继承</li> <li><strong>constructor</strong>构造器内使用<strong>super</strong>关键字执行父类的构造函数（传入参数，继承父类的属性和方法）</li> <li>自身新增的属性写在constructor里面（注意传入新参）</li> <li>自身新增方法可直接定义在类的内部（construction下面）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">CollegeStu</span> <span class="token keyword">extends</span> <span class="token class-name">Student</span><span class="token punctuation">{</span> <span class="token comment">//extends</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>grade<span class="token punctuation">,</span>academy</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//注意向constructor传参</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>grade<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//super执行构造函数</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>academy <span class="token operator">=</span> academy<span class="token punctuation">;</span> <span class="token comment">//新增属性</span>
    <span class="token punctuation">}</span>
    <span class="token function">showAcademy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//新增方法</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>academy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-promise"><a href="#_8-promise" aria-hidden="true" class="header-anchor">#</a> 8. Promise</h2> <p><strong>消除异步操作：用同步一样的方式书写异步操作的代码</strong></p> <p><strong>new一个Promise对象</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//resolve（解决）--&gt;成功  reject（排斥） --&gt;失败</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">//模拟jQuery中的ajax请求数据文件</span>
    	url<span class="token punctuation">:</span> <span class="token string">'./www/data.txt'</span><span class="token punctuation">,</span>
        dataType<span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
        <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	<span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//成功，调用resolve</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	<span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//失败，调用reject</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//在then()方法里进行异步处理</span>
p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token function">succ</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//第一个回调函数succ其实就是resolve</span>
   	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;成功&quot;</span><span class="token operator">+</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//第二个回调函数error其实就是reject</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;失败&quot;</span><span class="token operator">+</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//err为抛出的错误对象</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Promise.all()</strong></p> <p>上面只是最基础的用法，请求单个数据文件并不能体现出同步操作的书写方式，当请求多个数据文件时，采用 <strong>Promise.all()</strong> 方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//假如有p1，p2,p3等多个请求数据文件的Promise对象</span>
Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    p1<span class="token punctuation">,</span>p2<span class="token punctuation">,</span>p3   <span class="token comment">//将它们存入数组后放进Promise.all()内</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token function">succ</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>  <span class="token comment">//直接.then()进行链式操作</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;所有的数据文件全部请求成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//成功返回的数据全部在数组arr里</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>res1<span class="token punctuation">,</span>res2<span class="token punctuation">,</span>res3<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span> <span class="token comment">//可直接解构赋值</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">,</span>res2<span class="token punctuation">,</span>res3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;有数据文件请求失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>值得注意的是在多个请求数据文件的Promise对象p1,p2的代码中，只有请求的url地址不同，同时jQuery中的ajax自带对Promise的支持，</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">:</span><span class="token string">'test.json'</span><span class="token punctuation">,</span>dataType<span class="token punctuation">:</span><span class="token string">'json'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>其返回值其实就是一个Promise对象，因此可以进一步简化。</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token comment">//同步的书写方式</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">:</span><span class="token string">'data1.txt'</span><span class="token punctuation">,</span>dataType<span class="token punctuation">:</span><span class="token string">'json'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">:</span><span class="token string">'data2.json'</span><span class="token punctuation">,</span>dataType<span class="token punctuation">:</span><span class="token string">'json'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>url<span class="token punctuation">:</span><span class="token string">'data3.txt'</span><span class="token punctuation">,</span>dataType<span class="token punctuation">:</span><span class="token string">'json'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">[</span>res1<span class="token punctuation">,</span>res2<span class="token punctuation">,</span>res3<span class="token punctuation">]</span> <span class="token operator">=</span> results<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">,</span>res2<span class="token punctuation">,</span>res3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">error</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;有数据文件请求失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Promise.race()</strong></p> <p>用法与Promise.all()基本相同，但Promise.race()是哪个请求的数据文件先加载完就先用哪个，有加载失败的就直接忽略。（不常用）</p> <h2 id="_9-generator"><a href="#_9-generator" aria-hidden="true" class="header-anchor">#</a> 9. generator</h2> <p><strong>基本用法</strong></p> <ul><li>generator（生成器）函数使用 <code>*</code> 号进行标识（不能写成箭头函数形式）</li> <li>generator函数在执行过程中可以暂停</li> <li>在生成器的执行过程中，遇到<strong>yield</strong> （放弃）立即暂停，后续可恢复执行状态。</li> <li>运行generator函数不会直接执行函数里面的代码，而是创建一个generator对象</li> <li>generator生成器对象的 <strong>.next()</strong> 方法控制函数执行</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">yield</span><span class="token punctuation">;</span>
   <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//直接调用show()并不会执行</span>
<span class="token keyword">let</span> genObj <span class="token operator">=</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>genObj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Generator]</span>
genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//使用一次.next()方法只会弹出a</span>
<span class="token comment">//因为函数里有yield暂停</span>
genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//所以需要再使用一次.next()方法弹出b</span>
</code></pre></div><p><strong>yield详解</strong></p> <ol><li>yield传参</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;begin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token keyword">yield</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> genObj <span class="token operator">=</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//①调用第一个.next()函数从开始执行，打印输出 begin 然后遇到yield暂停 （第一个.next()是无法给yield传参的，所以2为无效参数）</span>
genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//②调用第二个.next()恢复执行后，将参数4传给num并打印输出</span>
<span class="token comment">//③最后打印输出 end</span>
<span class="token comment">//运行结果 begin 4 end</span>
</code></pre></div><ol start="2"><li>yield返回</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;begin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">6</span><span class="token punctuation">;</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> genObj <span class="token operator">=</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> res1 <span class="token operator">=</span> genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//①第一次调用.next()，函数开始执行并打印 begin</span>
<span class="token comment">//②取到yield的返回值6，函数未执行完成所以done为false 放入数组后赋值给res1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//③打印 {value: 6, done: false} </span>
<span class="token keyword">let</span> res2 <span class="token operator">=</span> genObj<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//④第二次调用.next()后，函数继续执行 打印 end</span>
<span class="token comment">//⑤后续函数执行过程中已无yield返回值，所以value为undefined。一直执行到最后，所以done为true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span><span class="token comment">//⑤打印 {value: undefined, done: true} </span>
<span class="token comment">//tips: 要想res返回值，可以在函数最后通过添加return语句返回</span>
</code></pre></div></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2018-04-03
    </span> <span class="update-date" data-v-4e23451f>
      最后修改 : 2019-03-06
    </span></section> <section class="post-links" data-v-4e23451f><a href="/posts/2018/03/11/ajax-basic-study-notes.html" class="post-link" data-v-4e23451f>
      上一篇 : 原生Ajax学习笔记
    </a> <a href="/posts/2018/05/15/understanding-node-js.html" class="post-link" data-v-4e23451f>
      下一篇 : 初识Node.js
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-6cd81e6a><div class="info-card main-div" data-v-3da8ff8d data-v-6cd81e6a><div class="info-card-header" data-v-3da8ff8d><img src="/img/avatar.png" alt="W-Qing" class="info-avatar" data-v-3da8ff8d></div> <div class="info-card-body" data-v-3da8ff8d><section class="info-nickname" data-v-3da8ff8d>
      W-Qing
    </section> <section class="info-desc" data-v-3da8ff8d>I may be lonely,<br/>but l'm not stupid,<br/>l try to live with my mistake.</section> <section class="info-contact" data-v-3da8ff8d><section data-v-3da8ff8d><span title="Shanghai City, China" data-v-3da8ff8d data-v-3da8ff8d><svg class="icon" style="font-size:1em;" data-v-3da8ff8d data-v-3da8ff8d><title data-v-3da8ff8d data-v-3da8ff8d>Shanghai City, China</title><use xlink:href="#icon-location" data-v-3da8ff8d data-v-3da8ff8d></use></svg><span class="info-text" data-v-3da8ff8d data-v-3da8ff8d>
          Shanghai City, China
        </span></span></section> <section data-v-3da8ff8d><span title="Ludong University" data-v-3da8ff8d data-v-3da8ff8d><svg class="icon" style="font-size:1em;" data-v-3da8ff8d data-v-3da8ff8d><title data-v-3da8ff8d data-v-3da8ff8d>Ludong University</title><use xlink:href="#icon-organization" data-v-3da8ff8d data-v-3da8ff8d></use></svg><span class="info-text" data-v-3da8ff8d data-v-3da8ff8d>
          Ludong University
        </span></span></section> <section data-v-3da8ff8d><a href="mailto:sunburst.wang@qq.com" title="sunburst.wang@qq.com" data-v-3da8ff8d data-v-3da8ff8d><svg class="icon" style="font-size:1em;" data-v-3da8ff8d data-v-3da8ff8d><title data-v-3da8ff8d data-v-3da8ff8d>sunburst.wang@qq.com</title><use xlink:href="#icon-email" data-v-3da8ff8d data-v-3da8ff8d></use></svg><span class="info-text" data-v-3da8ff8d data-v-3da8ff8d>
          sunburst.wang@qq.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-3da8ff8d><section class="info-sns clearfix" data-v-3da8ff8d><a href="https://github.com/W-Qing" target="_blank" class="sns-link" data-v-3da8ff8d><span title="GitHub: W-Qing" class="sns-icon" data-v-3da8ff8d data-v-3da8ff8d><svg class="icon" style="font-size:1.5em;" data-v-3da8ff8d data-v-3da8ff8d><title data-v-3da8ff8d data-v-3da8ff8d>GitHub: W-Qing</title><use xlink:href="#icon-github" data-v-3da8ff8d data-v-3da8ff8d></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-6cd81e6a><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_1-let、const">1. let、const</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_2-解构赋值">2. 解构赋值</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_3-函数">3. 函数</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_4-数组">4. 数组</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_5-字符串">5. 字符串</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_6-json">6. JSON</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_7-面向对象">7. 面向对象</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_8-promise">8. Promise</a></li><li><a href="/posts/2018/04/03/es6-basic-study-notes.html#_9-generator">9. generator</a></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2018/04/03/es6-basic-study-notes.html#post-comments">
      评论
    </a></div></div></aside></div> <footer class="footer" data-v-1114308c><p class="sns-links" data-v-1114308c><a href="https://github.com/W-Qing" target="_blank" class="sns-link" data-v-1114308c><span title="GitHub: W-Qing" class="sns-icon" data-v-1114308c data-v-1114308c><svg class="icon" style="font-size:25px;" data-v-1114308c data-v-1114308c><title data-v-1114308c data-v-1114308c>GitHub: W-Qing</title><use xlink:href="#icon-github" data-v-1114308c data-v-1114308c></use></svg></span></a></p> <p data-v-1114308c><span data-v-1114308c>Powered by </span> <a href="https://vuepress.vuejs.org" target="_blank" data-v-1114308c>
      Vuepress
    </a></p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/vendor.2.73dc545e.js" defer></script><script src="/assets/js/11.89dc6fd2.js" defer></script><script src="/assets/js/vendor.1.d0cf3ae5.js" defer></script><script src="/assets/js/vendor.0.6b1a4519.js" defer></script><script src="/assets/js/app.a3a7201e.js" defer></script>
  </body>
</html>
